# 💱 万能通貨コンバーター - ユーザーガイド

## 🌟 コア機能

### インテリジェント価格認識

- **自動検出**: ウェブページ上のすべての価格を自動的にマーク(破線の下線)
- **複数フォーマット対応**: $99.99、¥688、US$ 4.99、123.45 USD、0.5 BTC、ETH 1.23 など
- **24種類以上の通貨記号**: $、¥、€、£、₹、₩、₱、₦、₪、฿、₺、Rp、Rs など
- **スマートフィルタリング**: 日付や電話番号を自動的に除外し、誤認識を防止
- **動的ウェブサイト対応**: SPA(シングルページアプリケーション)に完全対応

### リアルタイム為替レート変換

- 💹 **法定通貨レート**: 1時間ごとに自動更新
- 🪙 **暗号通貨**: 5分ごとに更新(高いボラティリティのため)
- 📅 **タイムスタンプ表示**: ツールチップに為替レートの最終更新時刻を表示
- 🔄 **オフライン対応**: 24時間キャッシュ有効期限(法定通貨) / 30分キャッシュ(暗号通貨)
- 🌐 **データソース**: 現在のAPIソースを表示(exchangerate-api/fixer/currencyapi/coingecko)

### 対応通貨

#### 🌍 法定通貨 (57種類)

**主要通貨**

- 🇺🇸 USD - 米ドル | 🇪🇺 EUR - ユーロ | 🇬🇧 GBP - 英ポンド | 🇯🇵 JPY - 日本円 | 🇨🇭 CHF - スイスフラン

**アジア**

- 🇨🇳 CNY - 人民元 | 🇭🇰 HKD - 香港ドル | 🇹🇼 TWD - 台湾ドル | 🇰🇷 KRW - 韓国ウォン | 🇸🇬 SGD - シンガポールドル
- 🇹🇭 THB - タイバーツ | 🇲🇾 MYR - マレーシアリンギット | 🇮🇩 IDR - インドネシアルピア | 🇵🇭 PHP - フィリピンペソ | 🇻🇳 VND - ベトナムドン
- 🇮🇳 INR - インドルピー | 🇵🇰 PKR - パキスタンルピー | 🇧🇩 BDT - バングラデシュタカ | 🇱🇰 LKR - スリランカルピー | 🇳🇵 NPR - ネパールルピー

**オセアニア**

- 🇦🇺 AUD - 豪ドル | 🇳🇿 NZD - ニュージーランドドル

**北米**

- 🇨🇦 CAD - カナダドル | 🇲🇽 MXN - メキシコペソ

**南米**

- 🇧🇷 BRL - ブラジルレアル | 🇦🇷 ARS - アルゼンチンペソ | 🇨🇱 CLP - チリペソ | 🇨🇴 COP - コロンビアペソ | 🇵🇪 PEN - ペルーソル

**ヨーロッパ**

- 🇷🇺 RUB - ロシアルーブル | 🇵🇱 PLN - ポーランドズウォティ | 🇨🇿 CZK - チェココルナ | 🇭🇺 HUF - ハンガリーフォリント | 🇷🇴 RON - ルーマニアレウ
- 🇧🇬 BGN - ブルガリアレフ | 🇭🇷 HRK - クロアチアクーナ | 🇸🇪 SEK - スウェーデンクローナ | 🇳🇴 NOK - ノルウェークローネ | 🇩🇰 DKK - デンマーククローネ
- 🇮🇸 ISK - アイスランドクローナ | 🇹🇷 TRY - トルコリラ | 🇺🇦 UAH - ウクライナフリヴニャ

**中東**

- 🇦🇪 AED - UAEディルハム | 🇸🇦 SAR - サウジリヤル | 🇶🇦 QAR - カタールリヤル | 🇰🇼 KWD - クウェートディナール
- 🇧🇭 BHD - バーレーンディナール | 🇴🇲 OMR - オマーンリアル | 🇯🇴 JOD - ヨルダンディナール | 🇮🇱 ILS - イスラエルシェケル | 🇪🇬 EGP - エジプトポンド

**アフリカ**

- 🇿🇦 ZAR - 南アフリカランド | 🇳🇬 NGN - ナイジェリアナイラ | 🇰🇪 KES - ケニアシリング | 🇬🇭 GHS - ガーナセディ
- 🇲🇦 MAD - モロッコディルハム | 🇹🇳 TND - チュニジアディナール | 🇩🇿 DZD - アルジェリアディナール

#### 🪙 暗号通貨 (70種類、オプション)

**時価総額トップ10**

- BTC (Bitcoin) | ETH (Ethereum) | USDT (Tether) | BNB (Binance Coin) | SOL (Solana)
- XRP (Ripple) | USDC (USD Coin) | ADA (Cardano) | DOGE (Dogecoin) | TRX (TRON)

**DeFiエコシステム**

- UNI (Uniswap) | LINK (Chainlink) | AAVE (Aave) | CAKE (PancakeSwap) | SUSHI (SushiSwap)
- COMP (Compound) | MKR (Maker) | SNX (Synthetix) | CRV (Curve DAO) | YFI (yearn.finance)

**Layer 2ソリューション**

- MATIC (Polygon) | ARB (Arbitrum) | OP (Optimism) | IMX (Immutable X) | LRC (Loopring) | STRK (Starknet)

**ステーブルコイン**

- USDT (Tether) | USDC (USD Coin) | DAI (Dai) | BUSD (Binance USD) | TUSD (TrueUSD) | USDP (Pax Dollar) | FRAX (Frax)

**主流コイン**

- DOT (Polkadot) | LTC (Litecoin) | SHIB (Shiba Inu) | AVAX (Avalanche) | ATOM (Cosmos)
- FIL (Filecoin) | NEAR (NEAR Protocol) | VET (VeChain) | ALGO (Algorand) | GRT (The Graph)
- SAND (The Sandbox) | MANA (Decentraland) | AXS (Axie Infinity)

**その他の主流**

- FTM (Fantom) | THETA (Theta) | XTZ (Tezos) | EOS (EOS) | EGLD (MultiversX)
- BSV (Bitcoin SV) | FLOW (Flow) | ICP (Internet Computer) | ZEC (Zcash) | NEO (NEO)
- KLAY (Klaytin) | OKB (OKB) | BCH (Bitcoin Cash) | XMR (Monero) | ETC (Ethereum Classic)

**新興プロジェクト**

- APT (Aptos) | HBAR (Hedera) | QNT (Quant) | RUNE (THORChain) | GALA (Gala) | CHZ (Chiliz)

---

## 🌍 使用シナリオ

### 💳 法定通貨変換シナリオ

**越境EC**

- Amazon(グローバルサイト)、eBay、AliExpress、淘宝国際
- Etsy、Shopifyストア、Walmart、Target、Costco
- ASOS、Zara、H&M国際サイト

**サーバー/ドメイン購入**

- Vultr、DigitalOcean、Linode、Hetzner
- AWS、Google Cloud、Azure、Cloudflare
- Hostinger、Bluehost、GoDaddy、Namecheap

**サブスクリプションサービス**

- Netflix、Spotify、YouTube Premium、Apple Music
- Adobe Creative Cloud、Microsoft 365、Canva Pro
- ChatGPT Plus、Midjourney、Claude Pro
- Notion、Slack、Zoom、Dropbox

**旅行予約**

- Booking.com、Airbnb、Agoda、Hotels.com
- Expedia、Skyscanner、Trip.com

**ライブ配信投げ銭**

- YouTube SuperChat、Twitch寄付、Patreonサポート

**その他のシナリオ**

- 外国為替取引プラットフォーム、国際ニュースサイト
- 学術論文有料ダウンロード、ソフトウェアライセンス購入
- Steam、Epic Gamesなどのゲームプラットフォーム

### 🪙 暗号通貨シナリオ (オプション)

**NFTマーケットプレイス**

- OpenSea、Blur、LooksRare、Rarible、Foundation
- Magic Eden、X2Y2、Sudoswap

**暗号通貨取引所**

- Binance、Coinbase、Kraken、Bybit、OKX
- Uniswap、PancakeSwap、SushiSwap、Curve
- dYdX、GMX、Trader Joe

**DeFiプロトコル**

- Aave、Compound、MakerDAO、Yearn Finance
- Convex Finance、Balancer、1inch

**ブロックチェーンエクスプローラー**

- Etherscan、BSCScan、Polygonscan、Arbiscan
- Solscan、Snowtrace

**GameFi / メタバース**

- Axie Infinity、The Sandbox、Decentraland
- Gala Games、Illuvium、StepN

**DAOガバナンス**

- Snapshot、Tally、Aragon、Colony

**Web3プロジェクトサイト**

- トークン価格、ステーキング利回り、流動性マイニングAPY
- ICO/IDO/IEO価格表示

---

## 📖 使い方

### 1. スクリプトのインストール

1. **Tampermonkeyをインストール**
   - Chrome: [インストールリンク](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)
   - Firefox: [インストールリンク](https://addons.mozilla.org/firefox/addon/tampermonkey/)
   - Edge: [インストールリンク](https://microsoftedge.microsoft.com/addons/detail/tampermonkey/iikmkjmpaadaobahmlepeloendndfphd)

2. **このスクリプトをインストール**
   - このページの「スクリプトをインストール」ボタンをクリック
   - ポップアップで「インストール」をクリック
   - ページを更新して使用開始

### 2. 基本的な使い方

**法定通貨変換**

- 価格を含む任意のウェブサイトにアクセス
- 価格が自動的にマークされます(破線の下線)
- マウスオーバーで変換結果を表示
- ツールチップに表示される内容:
  - 元の価格
  - 変換後の3〜5種類の通貨(スマートソート)
  - 為替レート更新時刻
  - データソース

**暗号通貨変換** (設定で有効化が必要)

- 暗号通貨価格を含むウェブサイトにアクセス(例: OpenSea、Binance)
- `0.5 BTC`、`ETH 1.23`などのフォーマットを自動認識
- マウスオーバーで法定通貨価値を表示(USD、CNYなど)

### 3. 高度な機能

**⚙️ 設定パネル** (Tampermonkeyアイコンをクリック → ⚙️ 設定パネル)

1. **スマート表示**
   - IPアドレスに基づいて国を自動検出
   - 元の通貨を除外(例: 米ドル価格にUSD変換を表示しない)
   - 最大表示通貨数をカスタマイズ(2〜5個)

2. **ターゲット通貨**
   - 変換する2〜5個のターゲット通貨を選択
   - 57種類の法定通貨から自由に選択

3. **APIキー設定**
   - ExchangeRate-APIキーを設定(月1,500リクエスト)
   - Fixer.ioキーを設定(月100リクエスト)
   - CurrencyAPIキーを設定(月300リクエスト)
   - **バックアップキープール**: 各APIに複数のバックアップキーを設定し、自動ローテーション

4. **一括表示モード** (Alt+I で切り替え)
   - 価格の横に変換結果を直接表示、ホバー不要
   - インラインモードで表示する通貨を選択

5. **カスタム為替レート(オフラインモード)**
   - 為替レートを手動設定、APIコール不要
   - オフラインまたは固定レートシナリオに適用

6. **暗号通貨設定** (v1.6.0 新機能)
   - 暗号通貨認識を有効/無効化
   - 表示する暗号通貨を選択(デフォルト10種類)
   - CoinGecko Pro APIキーを設定(オプション)

7. **インターフェース言語**
   - 中文(簡体)
   - English
   - 日本語
   - 한국어

8. **除外ウェブサイト**
   - 通貨変換をスキップするウェブサイトを追加
   - クイックメニュー: 🚫 現在のサイトを除外

**💱 通貨計算機** (Alt+C で開く)

- 独立したフローティング計算機ウィンドウ
- 双方向変換対応(USD ↔ CNY)
- ドラッグ可能な位置
- 最近使用した通貨ペアを記憶

**⌨️ キーボードショートカット**

- `Alt + C`: 通貨計算機を開く/閉じる
- `Alt + H`: すべての価格マークをハイライト/非ハイライト
- `Alt + I`: 一括表示モードを切り替え
- `Esc`: 計算機を閉じる

**📊 過去の為替レート**

- ツールチップの「履歴」リンクをクリック
- xe.comにジャンプして過去の為替レートトレンドを表示

---

## 🔑 APIクォータ情報

### 法定通貨API

**デフォルトクォータ** (内蔵キーを使用)

- ExchangeRate-API: 月1,500リクエスト
- Fixer.io: 月100リクエスト
- CurrencyAPI: 月300リクエスト
- **合計**: 月1,900リクエスト

**自分のキーを取得する方法** (完全無料)

1. 対応するウェブサイトにアクセスして登録
2. 無料のAPIキーを取得
3. Tampermonkeyメニューの「⚙️ 設定パネル」で設定
4. 独立したクォータを享受し、他のユーザーとの共有を回避

**バックアップキープール** (v1.5.0 新機能)

- 各APIに複数のバックアップキーを設定
- メインキーのクォータが尽きたら自動切り替え
- すべての利用可能なキーを循環使用
- API可用性を最大化

**API申請リンク**

- ExchangeRate-API: <https://www.exchangerate-api.com/>
- Fixer.io: <https://fixer.io/>
- CurrencyAPI: <https://currencyapi.com/>

### 暗号通貨API

**CoinGecko API** (無料、キー不要)

- 無料版: 分50リクエスト
- データソース: 主要なグローバル取引所の集約価格
- 70種類以上の暗号通貨をサポート
- リアルタイム価格更新(5分キャッシュ)

**CoinGecko Pro** (オプション、有料)

- より高い更新頻度が必要な場合、Pro版APIキーを申請
- 設定パネルで設定

---

## ⚡ パフォーマンス特性

- 🚀 **ページ読み込み影響** < 100ms
- ⏱️ **初回認識完了** < 500ms
- 💾 **スマートキャッシング**: APIコールを削減し、クォータを節約
- 🔄 **SPA対応**: React、Vue、Angularシングルページアプリに完全対応
- 📱 **モバイル最適化**: モバイルブラウザに完全対応
- 🎨 **ダークモード**: システム/ブラウザテーマに自動適応
- ♻️ **デバウンス&スロットル**: パフォーマンス最適化、閲覧への影響なし

---

## 🛡️ プライバシーとセキュリティ

- ✅ **データ収集ゼロ**: ユーザーデータは一切収集しません
- ✅ **HTTPS暗号化**: すべてのAPIコールはHTTPSを使用
- ✅ **ローカルストレージ**: 設定はローカルブラウザにのみ保存
- ✅ **オープンソース**: 完全にオープンソース、監査可能
- ✅ **GPL-3.0ライセンス**: コピーレフト保護、クローズドソース商業化を防止
- ✅ **トラッキングなし**: サードパーティトラッキングコードを含みません
- ✅ **XSS保護**: HTMLエスケープ、XSS攻撃を防止

---

## 💡 よくある質問

**Q: 為替レートはどのくらいの頻度で更新されますか?**
A: 法定通貨レートは1時間ごと、暗号通貨は5分ごとに更新されます。ツールチップの下部で最終更新時刻を確認できます。

**Q: オフラインで使用できますか?**
A: はい!法定通貨キャッシュは24時間、暗号通貨キャッシュは30分有効です。オフライン時はキャッシュデータが使用されます。

**Q: 一部の価格が認識されません?**
A: スクリプトは20種類以上のフォーマットに対応しています。問題が発生した場合は、フィードバックセクションでウェブサイトリンクとスクリーンショットを提供してください。継続的に改善します。

**Q: APIクォータが尽きた場合は?**
A:

1. スクリプトは3つの法定通貨APIを使用し自動降格するため、通常は尽きません
2. 自分のAPIキーを無料で申請できます(上記参照)
3. 複数のバックアップキーを設定して自動ローテーション

**Q: 暗号通貨サポートを有効にするには?**
A:

1. Tampermonkeyアイコンをクリック → ⚙️ 設定パネル
2. 「🪙 暗号通貨」オプションを見つける
3. 「暗号通貨認識を有効化」にチェック
4. 表示する暗号通貨を選択(デフォルト10種類)
5. 保存してページを更新

**Q: 暗号通貨価格は正確ですか?**
A: CoinGecko APIを使用しており、主要なグローバル取引所の集約価格から取得しているため、正確で権威があります。

**Q: どのブラウザがサポートされていますか?**
A: Chrome、Firefox、Edge - Tampermonkeyをサポートするすべての最新ブラウザ。

**Q: インターフェース言語を切り替えるには?**
A:

1. Tampermonkeyアイコンをクリック → ⚙️ 設定パネル
2. 「インターフェース言語」オプションを見つける
3. 希望の言語を選択(中文/English/日本語/한국어)
4. 保存してページを更新

**Q: 特定のウェブサイトを除外するには?**
A:

1. 方法1: 除外したいウェブサイトにアクセス → Tampermonkeyアイコンをクリック → 🚫 現在のサイトを除外
2. 方法2: ⚙️ 設定パネル → 除外ウェブサイト → ドメインを入力(1行に1つ)

**Q: ツールチップの位置が間違っている/ブロックされている?**
A: ツールチップはビューポートオーバーフローを避けるため、インテリジェントに配置されます。ブロックされている場合は、右上隅の「×」をクリックして手動で閉じてください。

**Q: インラインモードとは?**
A: `Alt+I`を押すと有効になります。変換結果が価格の横に直接表示されます(緑色のテキスト)。ホバー不要です。一括表示に最適です。

**Q: スクリプトはウェブページの速度に影響しますか?**
A: いいえ。スクリプトは遅延ロード、デバウンス、スロットルなどの最適化技術を使用しています。ページ読み込み影響 < 100ms、ほとんど感じられません。

**Q: なぜGPL-3.0ライセンスを選択したのですか?**
A: オープンソースコミュニティの利益を保護し、修正版がオープンソースのままであることを保証し、クローズドソース商業化を防ぐためです。

---

## 📞 フィードバックとサポート

### 連絡先

- **作者**: FronNian
- **メール**: <huayuan4564@gmail.com>
- **フィードバック**: このページのコメントセクション
- **GitHub**: <https://github.com/FronNian/Currency-Converter>

### 機能提案

機能提案を歓迎します!コメントまたはメールで以下を説明してください:

- 希望する機能
- 使用シナリオ
- なぜこの機能が必要か

### バグ報告

問題が発生した場合は、以下を提供してください:

- ウェブサイトURL
- ブラウザとバージョン
- スクリプトバージョン
- 問題のスクリーンショット
- コンソールエラーメッセージ(F12キーを押して表示)

### オープンソース貢献

- プロジェクトはGPL-3.0ライセンスを使用
- プルリクエストの提出を歓迎
- フォークと改善を歓迎
- 元の作者情報を保持してください

---

## 📊 バージョン履歴

### v1.6.0 (2025-01-23) - 現在のバージョン

- ✨ 70種類の暗号通貨サポートを追加(BTC、ETH、USDTなど)
- ✨ CoinGecko API統合(無料、キー不要)
- ✨ UserScriptヘッダー多言語化(4言語)
- 🪙 「0.5 BTC」、「ETH 1.23」形式の認識をサポート
- 📊 合計127種類の通貨をサポート(法定通貨57+暗号通貨70)

### v1.5.0 (2025-01-22)

- ✨ 15種類から57種類の法定通貨に拡張
- ✨ APIキープールローテーション(複数のバックアップキーをサポート)
- ✨ ライブ配信プラットフォーム認識最適化(16種類の通貨記号を追加)
- 🌏 6大陸の主要通貨をカバー

### v1.4.1 (2025-01-21)

- ✨ 多言語サポート(中国語、英語、日本語、韓国語)
- ✨ ウェブサイト除外機能
- 🌐 完全な国際化

### v1.4.0 (2025-01-20)

- ✨ 一括表示モード(インラインモード)
- ✨ カスタム為替レート(オフラインモード)
- 📊 過去の為替レートジャンプリンク

### v1.3.0 (2025-01-19)

- ✨ 通貨計算機(Alt+C)
- ⌨️ キーボードショートカットサポート(Alt+H、Alt+I、Esc)
- 🎨 UI最適化(グラデーション削除、クリーンデザイン)

### v1.2.0 (2025-01-18)

- ✨ IPユーザー国自動検出
- ✨ スマート通貨ソート(元の通貨を除外)
- ✨ 完全な設定パネル

### v1.1.0 (2025-01-17)

- ✨ APIキービジュアル設定
- ✨ 手動閉じるボタン
- ✨ 価格認識強化
- 📜 ライセンス変更: MIT → GPL-3.0

### v1.0.0 (2025-01-16)

- 🎉 初回リリース
- ✨ スマート価格認識
- ✨ リアルタイム為替レート変換
- ✨ 3つのAPI自動降格

---

## 🎯 今後の計画

### v1.7.0以降の計画機能

- 💾 価格ブックマーク/トラッキング
- 🔔 為替レートアラート
- 📊 為替レートトレンドチャート
- 📤 エクスポート/共有機能
- 🔗 ブラウザ拡張版

---

**シームレスな通貨変換体験をお楽しみください!** 💱✨

**法定通貨57種類 + 暗号通貨70種類 = グローバルに対応!** 🌍🪙
